<html>
<head>
<script src="../../libs/tmlib.js"></script>
<script>
tm.preload(function() {
    tm.addLoadCheckList(tm.asset.AssetManager);
    tm.asset.AssetManager.load("e0", "../explode0.png");
    tm.asset.AssetManager.load("e1", "../explode1.png");
    tm.asset.AssetManager.load("e2", "../explode2.png");
    tm.asset.AssetManager.load("e3", "../explode3.png");
});

tm.app.CanvasElement.prototype.setBlendMode = function(blendMode) {
    this.blendMode = blendMode;
    return this;
};

tm.main(function() {
    var app = tm.app.CanvasApp("#c");
    app.resize(400, 400);
    app.background = "black";

    app.update = function() {
        if (this.frame % 30 === 0) {
            var s = tm.app.AnimationSprite(tm.app.SpriteSheet({
                image: "e" + Math.rand(0, 3),
                frame: {
                    width: 100,
                    height: 100,
                },
            }), 100, 100)
            .setBlendMode("lighter")
            .setPosition(Math.rand(0, 400), Math.rand(0, 400))
            .addChildTo(app.currentScene)
            .gotoAndPlay("default");
        }
    };

    app.run();
});
</script>
</head>
<body>
<canvas id="c"></canvas>
</body>
</html>