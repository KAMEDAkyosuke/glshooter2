<html>
<head>
<script src="../../libs/tmlib.js"></script>
<script>
tm.main(function() {
    var out = tm.graphics.Canvas();
    out.resize(80*4, 80);

    var d = function(x) {
        var canvas = tm.graphics.Canvas("#c");

        canvas.resize(80, 80); //.fitWindow();
        canvas.globalCompositeOperation = "lighter";

        for (var i = 0; i < 60; i++) {
            var cx = (Math.rand(40-10, 40+10) + Math.rand(40-10, 40+10)) / 2;
            var cy = (Math.rand(40-10, 40+10) + Math.rand(40-10, 40+10)) / 2;
            var rd = Math.rand(35, 40);
            canvas.fillStyle = tm.graphics.RadialGradient(cx, cy, 0, cx, cy, rd*0.8).addColorStopList([
                { offset: 0.00, color: "rgba(255, 255, 150, 0.1)" },
                { offset: 0.20, color: "rgba(255, 255, 150, 0.1)" },
                { offset: 1.00, color: "rgba(255, 255,   0, 0.0)" },
            ]).toStyle();
            canvas.fillStar(cx, cy, rd, 13, 0.2);
        }

        out.drawImage(canvas.element, 80 * x, 0);
    };

    d(0);
    d(1);
    d(2);
    d(3);

    out.saveAsImage();
});
</script>
</head>
<body style="background:black">
<canvas id="c"></canvas>
</body>
</html>